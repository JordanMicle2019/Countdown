var head=document.getElementsByTagName("head")[0],script=document.createElement("script");function handler(){var e=[],t=[],n="",i="",o="",a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function s(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function r(e){var t=e.split(":");return 60*+t[0]*60+60*+t[1]+ +t[2]}function c(e,t,n){if(currentWeekIndex=a.indexOf(t),eventWeekIndex=a.indexOf(e.day),currentWeekIndex==eventWeekIndex){var i=r(e.start_time+":00")-r(n);return i>=0?i:60*e.duration+i>=0?i:604800+i}return eventWeekIndex>currentWeekIndex?r(e.start_time+":00")+86400*(eventWeekIndex-currentWeekIndex)-r(n):r(e.start_time+":00")+86400*(eventWeekIndex-currentWeekIndex+7)-r(n)}function d(){var o=Math.min.apply(null,t);if(o>0)n=e[t.indexOf(o)];else{var a=e[t.indexOf(o)];i=a}}var l=document.createElement("div");function u(){i="",n="",t=[],$("#frame-container").remove();var[o,a]=p();for(event of e)t.push(c(event,o.replace(/ /g,""),a));d(),$("#stream-selection-container").show(),i?(h(i),i.show_selection?($("#countdown-container").hide(),$("#selection-container").show(),$("#section-1").text(i.event[0].label),$("#section-2").text(i.event[1].label),$("#landing-video").hide()):v(i.event[0].src)):($("#landing-video").show(),$("#countdown-container").show(),$("#selection-container").hide(),$("#up_event_name").text(n.title),m(n))}function v(e){var t=document.createElement("div");t.id="frame-container",t.innerHTML=`\n\t\t\t\t\t<iframe id="player" width="100%" height="100%" src="${e}?autoPlay=true"\n\t\t\t\t\tframeborder="0" allowfullscreen="true"></iframe>\t\t\t\t\n\t\t\t\t`,s(document.querySelector("#stream-selection-container"),t),$("#frame-container").width($("#stream-selection-container").width()),$("#frame-container").height($("#stream-selection-container").height()),$("#stream-selection-container").hide()}function m(e){var t=setInterval(function(){var[n,i]=p();distance=1e3*c(e,n,i);var[o,a,s,r]=function(e){var t=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),i=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);return[t,n,i,o]}(distance);distance<0&&(clearInterval(t),u(),document.getElementById("countdown").innerHTML="");var d="";o&&(d+=1==o?`${o} <span class="mini">day </span>`:`${o} <span class="mini">days </span>`),a&&(d+=1==a?`${a} <span class="mini">hour </span>`:`${a} <span class="mini">hours </span>`),s&&(d+=1==s?`${s} <span class="mini">minute </span>`:`${s} <span class="mini">minutes </span>`),d+=1==r?`${r} <span class="mini">second </span>`:`${r} <span class="mini">seconds </span>`,document.getElementById("countdown").innerHTML=d},1e3)}function p(){return[(new Date).toLocaleString("en-US",{timeZone:"America/Chicago",weekday:"short"}),(new Date).toLocaleString("de-DE",{timeZone:"America/Chicago"}).split(",")[1]]}function h(e){var t=setInterval(function(){var n,i,[o,a]=p();distance=1e3*(n=function(e){var t=60*parseInt(e.start_time.split(":")[0])+parseInt(e.start_time.split(":")[1]),n=e.duration+t;return Math.floor(n/60)+":"+n%60}(e),i=a,r(n+":00")-r(i)),distance<0&&(clearInterval(t),u()),document.getElementById("countdown").innerHTML=""},1e3)}l.id="stream-selection-container",$.ajax({url:"https://stor.ikonik.com/reach/46/countdown/config.json",cache:!1,dataType:"json",success:function(a){var[r,u]=p();for(event of(o=a.image_url,a.events))if(event.day.includes(",")){var f=event.day.split(",");for(day of f){var g={title:event.title,day:day.replace(/ /g,""),start_time:event.start_time,duration:event.duration,show_selection:event.show_selection,event:event.event};t.push(c(g,r.replace(/ /g,""),u)),e.push(g)}}else t.push(c(event,r.replace(/ /g,""),u)),e.push(event);d();var w='\n            <div id="countdown-container" class="display-top" style="width:100%">\n              <p class="custom-font-style" style="margin-bottom: -10px">Coming Up Next: <span id="up_event_name"></span></p>\n                <p class="custom-font-style">Begins in: <span id="countdown"></span></p>\n              </div>\t\t\t\t\n              <div id="selection-container" class="display-top">\n                <div style="width: 100%;height: 100%;background: #312020a1;border-radius:5px">\n                  <p class="custom-font-style" style="padding: 10px;text-align: center;border-bottom: 1px solid white;margin-left: 20px;margin-right: 20px;">Choose Your Service Preference</p>\n                  <div class="custom-center" style="margin-top: 15%;">\n                    <div class="section-1 btn-container custom-center">\n                      <button id="section-1" class="custom-btn"></button>\t\t\t\t\t\t\n                    </div>\n                    <div class="section-2 btn-container custom-center">\n                      <button id="section-2" class="custom-btn"></button>\t\t\t\t\t\t\t\n                    </div>\t\n                  </div>\n                </div>\n              </div>\t\t\t\t\t\t\t\t\t\n            ';if(a.isVideo){var x=`\n              <video id="landing-video" autoplay muted loop class="bg-video" style="max-width:100%;max-height:100%;position:absolute;top:0;z-index:1">\n                <source src="${a.video_url}" type="video/mp4" />\n              </video>\n            `;l.innerHTML=w+x,s(document.querySelector("#videoCountdown"),l)}else l.innerHTML=w,s(document.querySelector("#videoCountdown"),l);$("#selection-container").css({background:"url("+o+")","background-repeat":"no-repeat","background-size":"100%","max-width":"100%"}),$("#stream-selection-container").width($("#videoCountdown").width()),$("#stream-selection-container").height($("#videoCountdown").height()),$("#videoCountdown").remove(),i?(h(i),i.show_selection?($("#countdown-container").hide(),$("#selection-container").show(),$("#section-1").text(i.event[0].label),$("#section-2").text(i.event[1].label),$("#landing-video").hide()):v(i.event[0].src)):($("#landing-video").show(),$("#countdown-container").show(),$("#selection-container").hide(),$("#up_event_name").text(n.title),m(n))}}),$(window).resize(function(){$("#stream-selection-container").width($("#videoCountdown").width()),$("#stream-selection-container").height($("#videoCountdown").height())}),$(document).on("click","#section-1",function(){v(i.event[0].src)}),$(document).on("click","#section-2",function(){v(i.event[1].src)})}script.type="text/javascript",script.src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js",script.onreadystatechange=handler,script.onload=handler,head.appendChild(script);